---
category: general
date: 2026-02-09
description: Узнайте, как предварительно обрабатывать изображения для OCR и распознавать
  текст на изображениях с помощью Aspose OCR. Уменьшайте шум, применяйте фильтры и
  извлекайте простой текст за считанные минуты.
draft: false
keywords:
- preprocess image OCR
- recognize text image
- extract plain text
- reduce image noise
- how to add filters
language: ru
og_description: Быстро предобрабатывайте OCR изображений. В этом руководстве показано,
  как добавлять фильтры, уменьшать шум изображения и извлекать простой текст из любой
  картинки.
og_title: Предобработка изображений OCR в C# — пошаговое руководство
tags:
- OCR
- C#
- Image Processing
title: Предобработка изображений OCR в C# – Полное руководство с фильтрами
url: /ru/net/ocr-optimization/preprocess-image-ocr-in-c-complete-guide-with-filters/
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# Предобработка изображений OCR в C# – Полное руководство с фильтрами

Когда‑то вам приходилось **предобрабатывать изображение OCR**, потому что ваши сканы наклонены, зернисты или просто трудно читаемы? Вы не одиноки. Во многих реальных проектах дрожащая фотография чека или шумная отсканированная форма могут заставить движок OCR выдавать бессмыслицу вместо полезных данных.  

Хорошая новость? Вы можете очистить эти картинки перед передачей их движку, и результат — значительно более высокая точность при **распознавании текста изображения**. В этом руководстве мы подробно разберём, **как добавить фильтры**, уменьшить шум и, наконец, **извлечь простой текст** с помощью Aspose.OCR в C#.

Мы охватим всё, что вам нужно — от установки библиотеки до запуска кода и проверки вывода — чтобы вы могли сразу скопировать‑вставить готовое решение.

---

## Что понадобится

- **.NET 6+** (или любой современный .NET runtime; API работает одинаково)
- **Aspose.OCR for .NET** NuGet‑пакет  
  ```bash
  dotnet add package Aspose.OCR
  ```
- Пример изображения, страдающего от вращения, шума или низкого контраста (например, `skewed_noisy.jpg`)
- Любая IDE или редактор (Visual Studio, VS Code, Rider — выбирайте, что вам нравится)

Это всё. Никаких дополнительных нативных библиотек, никаких тяжёлых фреймворков для обработки изображений. Aspose поставляется с нужными нам фильтрами.

---

## Шаг 1 – Создание экземпляра OCR‑движка  

Первое, что нужно сделать, — создать `OcrEngine`. Считайте его мозгом, который позже будет читать символы после того, как мы очистим картинку.

```csharp
using System;
using Aspose.OCR;
using Aspose.OCR.Models;
using Aspose.OCR.Filters;

class FilterExample
{
    static void Main()
    {
        // Initialize the OCR engine – this object will hold our filters and settings
        OcrEngine ocrEngine = new OcrEngine();
```

> **Почему это важно:** Движок содержит **конвейер предобработки**. Добавление фильтров позже автоматически применит их каждый раз, когда вы вызываете `Recognize`.

---

## Шаг 2 – Добавление фильтров для снижения шума изображения и улучшения читаемости  

Теперь мы **добавляем фильтры**. Каждый фильтр устраняет конкретный дефект:

| Фильтр | Что исправляет | Типичные значения |
|--------|----------------|-------------------|
| `DeskewFilter` | Повернутый текст (искажение) | `MaxAngle = 12` (градусов) |
| `DenoiseFilter` | Случайные пятна, зернистость | `Strength = 0.6` (0‑1) |
| `ContrastBoostFilter` | Выцветшие буквы | `Level = 1.3` (1‑2) |
| `BinarizeAdaptiveFilter` | Неравномерное освещение | значения по умолчанию работают хорошо |

```csharp
        // Step 2: Add preprocessing filters to improve image quality
        //   • Deskew to correct rotation (max 12°)
        //   • Denoise to reduce noise (strength 0.6)
        //   • Contrast boost to enhance visibility (level 1.3)
        //   • Adaptive binarization for better binarization
        ocrEngine.Preprocessing.Add(new DeskewFilter { MaxAngle = 12 });
        ocrEngine.Preprocessing.Add(new DenoiseFilter { Strength = 0.6 });
        ocrEngine.Preprocessing.Add(new ContrastBoostFilter { Level = 1.3 });
        ocrEngine.Preprocessing.Add(new BinarizeAdaptiveFilter());
```

> **Совет:** Если ваши изображения уже выровнены, можете пропустить шаг дескейвинга. Удаление ненужных фильтров ускорит обработку.

---

## Шаг 3 – Загрузка изображения, которое нужно обработать  

Далее мы указываем движку, какую картинку очистить. `ImageStream.FromFile` читает файл в формат, понятный OCR‑движку.

```csharp
        // Step 3: Load the image that needs OCR processing
        ImageStream image = ImageStream.FromFile(@"YOUR_DIRECTORY/skewed_noisy.jpg");
```

> **Особый случай:** При работе с потоками, полученными из веб‑API, замените `FromFile` на `FromStream`, чтобы избежать обращения к файловой системе.

---

## Шаг 4 – Запуск OCR‑движка и распознавание текста изображения  

Теперь происходит магия. Движок применяет каждый добавленный фильтр, а затем выполняет распознавание символов.

```csharp
        // Step 4: Run the OCR engine on the prepared image
        OcrResult ocrResult = ocrEngine.Recognize(image);
```

> **Почему это работает:** Конвейер предобработки гарантирует, что изображение, передаваемое распознавателю, максимально чистое, что напрямую повышает точность **распознавания текста изображения**.

---

## Шаг 5 – Извлечение простого текста и вывод его  

Наконец, мы получаем результат в виде простого текста и выводим его в консоль. Это часть процесса **извлечения простого текста**.

```csharp
        // Step 5: Output the recognized plain text
        Console.WriteLine(ocrResult.PlainText);
    }
}
```

### Ожидаемый вывод

Если `skewed_noisy.jpg` содержит простую строку счёта, например `Total: $123.45`, вы должны увидеть:

```
Total: $123.45
```

Даже если исходный файл был повернут на 10°, имел пятна и низкий контраст, фильтры должны очистить его достаточно, чтобы OCR‑движок прочитал его правильно.

---

## Визуальный обзор  

Ниже представлена быстрая иллюстрация конвейера предобработки. Диаграмма не требуется для работы кода, но помогает визуализировать поток.

![диаграмма предобработки OCR изображения](https://example.com/ocr-pipeline.png "конвейер предобработки OCR изображения")

*Alt text: конвейер предобработки OCR изображения, показывающий шаги deskew, denoise, contrast boost и adaptive binarization.*

---

## Часто задаваемые вопросы и подводные камни  

- **Что делать, если результат OCR всё ещё нечитаем?**  
  Попробуйте увеличить `DenoiseFilter.Strength` до `0.8` или уменьшить `ContrastBoostFilter.Level` до `1.1`. Слишком сильное усиление контраста иногда создаёт ореолы, которые сбивают распознаватель.

- **Можно ли добавить собственный фильтр?**  
  Да. Aspose.OCR позволяет реализовать `IFilter` и внедрить его в `ocrEngine.Preprocessing`. Это продвинутая тема, но полезна, когда нужны специфические предобработки.

- **Работает ли это с PDF?**  
  Только если сначала конвертировать каждую страницу PDF в изображение (например, с помощью Aspose.PDF). После получения bitmap‑изображения применяется тот же набор фильтров.

- **Является ли библиотека потокобезопасной?**  
  Экземпляр `OcrEngine` **не** потокобезопасен. Создавайте отдельный движок для каждого потока или оборачивайте вызовы в `lock`.

---

## Расширение примера  

Теперь, когда у вас есть надёжная база, рассмотрите следующие шаги:

1. **Пакетная обработка** – Пройдитесь по папке с изображениями, примените ту же цепочку фильтров и запишите каждый результат в файл `.txt`.  
2. **Языковые пакеты** – Если нужно распознавать французский или немецкий, загрузите соответствующие языковые данные через `ocrEngine.Language = "fra"` (или `"deu"`).  
3. **Область интереса (ROI)** – Используйте `ocrEngine.Recognize(image, new Rectangle(x, y, width, height))`, чтобы сосредоточиться на конкретной области, что ускорит обработку больших сканов.

---

## Заключение  

В этом руководстве мы **предобрабатывали изображение OCR**, добавив серию встроенных фильтров, затем **распознали текст изображения** и, наконец, **извлекли простой текст** из шумного, искривлённого снимка. Полный, готовый к запуску код находится выше, и вы можете адаптировать его под любой C#‑проект, требующий надёжных результатов OCR.  

Помните, ключ к отличному OCR — не только мощный движок, но и чистый ввод. Уменьшая шум изображения и правильно выравнивая текст, вы даёте распознавателю наилучший шанс на успех.  

Экспериментируйте с параметрами фильтров, пробуйте разные форматы изображений или комбинируйте этот подход с другими библиотеками Aspose. Если возникнут проблемы, оставляйте комментарий ниже или обращайтесь к официальной документации Aspose для более глубокого изучения каждого класса фильтра. Приятного кодинга!

{{< /blocks/products/pf/tutorial-page-section >}}
{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}
{{< blocks/products/products-backtop-button >}}