---
category: general
date: 2026-01-10
description: Как быстро запустить OCR и извлечь арабский текст из изображения. Узнайте,
  как преобразовать изображение в текст, прочитать текст из PNG и увидеть, как извлекать
  текст с помощью Aspose OCR.
draft: false
keywords:
- how to run OCR
- extract arabic text
- convert image to text
- read text from png
- how to extract text
language: ru
og_description: Как выполнить OCR в C# и извлечь арабский текст из PNG‑изображения.
  Это руководство покажет, как пошагово преобразовать изображение в текст и прочитать
  текст из PNG.
og_title: Как запустить OCR в C# – извлечь арабский текст из PNG
tags:
- OCR
- C#
- Aspose
title: Как выполнить OCR в C# – извлечь арабский текст из PNG
url: /ru/net/text-recognition/how-to-run-ocr-in-c-extract-arabic-text-from-png/
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# Как запустить OCR в C# – Извлечение арабского текста из PNG

Вы когда‑нибудь задавались вопросом, **как запустить OCR** на изображении, содержащем арабские символы? Вы не одиноки. Многие разработчики сталкиваются с проблемой, когда им нужно **извлечь арабский текст** из PNG, но они не знают, какая библиотека справится со скриптами справа налево без головной боли.  

В этом руководстве мы пройдем всё, что вам нужно знать, чтобы **преобразовать изображение в текст**, **прочитать текст из PNG** и, наконец, **извлечь текст** с помощью Aspose.OCR в чистом консольном приложении C#. К концу вы получите готовую к запуску программу, которая выводит арабскую строку прямо в ваш терминал.

## Что вы узнаете

- Установить и добавить ссылку на пакет NuGet Aspose.OCR.  
- Настроить OCR‑движок для поддержки арабского языка.  
- Загрузить PNG‑изображение и запустить процесс распознавания.  
- Получить и отобразить извлечённый текст.  
- Настроить параметры для повышения точности и обработки распространённых проблем.

Предыдущий опыт работы с OCR не требуется, достаточно базовых знаний C# и среды разработки .NET (Visual Studio, Rider или `dotnet` CLI подойдут).

---

## Как запустить OCR – Настройка Aspose OCR

### Шаг 1: Добавьте пакет NuGet Aspose.OCR

Первое, что нам нужно, — сама библиотека OCR. Aspose.OCR — коммерческий продукт, но он предлагает бесплатную пробную версию, которая прекрасно подходит для обучения.

```bash
# Using the .NET CLI
dotnet add package Aspose.OCR
```

В качестве альтернативы откройте **NuGet Package Manager** в Visual Studio, найдите **Aspose.OCR** и нажмите **Install**.

> **Pro tip:** Если вы планируете использовать библиотеку в CI‑конвейере, добавьте флаг `-v`, чтобы зафиксировать версию, например, `dotnet add package Aspose.OCR -v 23.10`.

### Шаг 2: Создайте новый консольный проект (если у вас его ещё нет)

```bash
dotnet new console -n ArabicOcrDemo
cd ArabicOcrDemo
```

Теперь у вас есть свежий файл `Program.cs`, готовый для нашего кода.

---

## Извлечение арабского текста – написание кода OCR

Ниже представлен полный готовый к запуску пример программы. Сохраните его как `Program.cs` (или замените автоматически сгенерированный файл).

```csharp
using System;
using Aspose.OCR;
using Aspose.OCR.Config;

namespace ArabicOcrDemo
{
    class Program
    {
        static void Main(string[] args)
        {
            // -------------------------------------------------
            // Step 1: Create an OCR engine instance
            // -------------------------------------------------
            var ocrEngine = new OcrEngine();

            // -------------------------------------------------
            // Step 2: Choose the language for recognition.
            // Here we use Arabic. You can swap this for
            // OcrLanguage.Korean, OcrLanguage.SerbianCyrillic, etc.
            // -------------------------------------------------
            ocrEngine.Language = OcrLanguage.Arabic;

            // -------------------------------------------------
            // Step 3: Load the image containing the text.
            // Replace the path with the location of your PNG.
            // -------------------------------------------------
            string imagePath = "YOUR_DIRECTORY/arabic_sample.png";
            ocrEngine.Image = ImageStream.FromFile(imagePath);

            // -------------------------------------------------
            // Step 4: Run the OCR process.
            // -------------------------------------------------
            ocrEngine.Recognize();

            // -------------------------------------------------
            // Step 5: Display the extracted text.
            // -------------------------------------------------
            Console.WriteLine("=== Extracted Arabic Text ===");
            Console.WriteLine(ocrEngine.Text);
        }
    }
}
```

#### Почему каждая строка важна

- **`OcrEngine`**: Центральный класс, который координирует загрузку изображения, выбор языка и распознавание.  
- **`Language = OcrLanguage.Arabic`**: Арабский использует скрипт справа налево и уникальные глифы; установка языка сообщает движку использовать соответствующие модели символов.  
- **`ImageStream.FromFile`**: Обрабатывает PNG, JPEG, BMP и многие другие форматы. Если вам понадобится читать из `MemoryStream` (например, загруженного файла), замените этот вызов соответствующим образом.  
- **`Recognize()`**: Выполняет основную работу — анализ пикселей, сегментацию и классификацию символов.  
- **`ocrEngine.Text`**: Финальная строка Unicode, готовая для дальнейшей обработки, хранения или отображения.

### Ожидаемый вывод

Если `arabic_sample.png` содержит фразу “مرحبا بالعالم” (Hello World), консоль выведет:

```
=== Extracted Arabic Text ===
مرحبا بالعالم
```

Если вывод выглядит искажённым, проверьте, что изображение чёткое, язык установлен на Arabic, и версия OCR‑движка соответствует документации.

---

## Преобразование изображения в текст — настройка точности

Хотя настройки по умолчанию работают для большинства чистых сканов, реальные изображения часто требуют дополнительной настройки.

| Параметр | Что делает | Когда использовать |
|----------|------------|---------------------|
| `ocrEngine.Config.Preprocess = true` | Включает автоматическую бинаризацию и удаление шума. | Сканированные документы с тенями. |
| `ocrEngine.Config.Deskew = true` | Поворачивает изображение для исправления небольшого наклона. | Фотографии, сделанные под углом. |
| `ocrEngine.Config.PageSegMode = PageSegMode.SingleBlock` | Обрабатывает всё изображение как один блок текста. | Простые подписи или однострочные метки. |
| `ocrEngine.Config.CharWhitelist = "ءاأإآبتثجحخدذرزس شصضطظعغفقكلمنهوية"` | Ограничивает распознавание только арабскими символами. | Снижает количество ложных срабатываний на страницах со смешанными языками. |

Эти строки можно добавить сразу после создания движка:

```csharp
ocrEngine.Config.Preprocess = true;
ocrEngine.Config.Deskew = true;
ocrEngine.Config.CharWhitelist = "ءاأإآبتثجحخدذرزسشصضطظعغفقكلمنهوية";
```

---

## Чтение текста из PNG — работа с различными источниками изображений

Иногда PNG хранится в базе данных или приходит из веб‑запроса. Вот быстрый вариант, который читает из `byte[]`:

```csharp
byte[] pngBytes = File.ReadAllBytes("YOUR_DIRECTORY/arabic_sample.png");
using var ms = new MemoryStream(pngBytes);
ocrEngine.Image = ImageStream.FromStream(ms);
ocrEngine.Recognize();
Console.WriteLine(ocrEngine.Text);
```

Остальная часть процесса остаётся идентичной, что означает, что **как извлечь текст** остаётся одинаковым независимо от источника.

---

## Как извлечь текст — расширенные опции и крайние случаи

### 1. Многостраничные PDF или TIFF

Если вам нужно выполнить OCR многостраничного документа, пройдитесь по каждой странице в цикле:

```csharp
var pdfDoc = new Aspose.Pdf.Document("multi_page.pdf");
foreach (var page in pdfDoc.Pages)
{
    using var img = page.ConvertToImage();
    ocrEngine.Image = ImageStream.FromBitmap(img);
    ocrEngine.Recognize();
    Console.WriteLine($"Page {page.Number}: {ocrEngine.Text}");
}
```

> **Note:** Для этого фрагмента кода вам понадобится пакет `Aspose.PDF`.

### 2. Автоматическое определение языка

Aspose.OCR также поддерживает автоопределение, но оно медленнее. Если вы не уверены, содержит ли изображение арабский или другой скрипт, включите его:

```csharp
ocrEngine.Language = OcrLanguage.AutoDetect;
```

### 3. Советы по производительности

- **Повторно используйте объект `OcrEngine`** для нескольких изображений; создание нового экземпляра каждый раз добавляет накладные расходы.  
- **Запускайте параллельно** только если у вас есть отдельные экземпляры движка на каждый поток — совместное использование одного экземпляра приводит к состояниям гонки.

---

## Заключение

Мы рассмотрели **как запустить OCR** в C# от начала до конца, показали, как **извлечь арабский текст**, **преобразовать изображение в текст**, **прочитать текст из PNG**, и ответили на вопрос **как извлечь текст** в различных сценариях. Пример кода полностью готов, автономен и готов к вставке в любой .NET консольный проект.

Следующие шаги? Попробуйте заменить `OcrLanguage.Arabic` на корейский или сербский кириллический, чтобы увидеть многоязычные возможности библиотеки. Поэкспериментируйте с флагами предобработки, чтобы повысить точность на шумных сканах, или интегрируйте OCR‑процедуру в веб‑API, чтобы пользователи могли загружать изображения и получать мгновенный результат текста.

Счастливого кодинга, и пусть результаты OCR всегда будут кристально чистыми!

{{< /blocks/products/pf/tutorial-page-section >}}
{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}
{{< blocks/products/products-backtop-button >}}